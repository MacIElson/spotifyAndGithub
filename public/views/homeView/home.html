<!-- This html isinjected into the main page by $routeProvider, it is the only html template used -->
<md-content>
<md-toolbar class="md-medium-tall" layout="row">
<h2>Spotify and Github</h2>
<md-button ng-click="logout()">Logout</md-button>
</md-toolbar>
<md-content layout="row" flex layout-align="center">
	<md-list>
		<md-list-item id="mainListItem" class="md-3-line" ng-repeat="playlist in playlists">
		    <img ng-src="{{playlist.images[0].url}}" class="md-avatar" alt="{{playlist.name}}">
			<div class="md-list-item-text" layout="column">
				<h2>{{ playlist.name }}</h2>
				<br></br>
				<div id="restoreListDiv" ng-show="reverting.show" flex='70%' layout-align="center">
	            <md-list>
	                <div ng-show="reverting.playlist.name === playlist.name">
	                    <md-list-item id = "oldCommit" ng-repeat="commit in reverting.commits"> 
	                        <div class="md-list-item-text" layout="row">
	                            <h4>{{commit.date}}</h4>
	                        </div>
	                        	                            <div>
	                            <md-button type="submit" ng-click="restorePlaylist(reverting.playlist, commit.sha, commit.date)"> Restore</md-button>
	                            </div>
	                            <md-divider ng-if="!$last"></md-divider>
	                    </md-list-item>
	                </div>
	            <md-list>
            </div>
			</div>
			<div>
				<div>
					<md-button ng-click="backupPlaylist(playlist)"> Back Up Playlist</md-button>
				</div>

				<div>
					<md-button type="submit" ng-click="showPrevious(playlist)"> Restore An Older Version</md-button>
				</div>
			</div>


            


		</md-list-item>


	</md-list>

<br></br>


<div ng-show="backedUp">
	Successfully backed up {{backedUp}}!
</div>
</md-content>
</md-content>
